Index: frontend/src/components/Chat.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><template>\r\n    <div id = \"all\">\r\n        <div id=\"message_box\">\r\n            <div id=\"message_show\" class=\"message_show\">\r\n                <div v-for=\"item in myMessages\" :key=\"item.id\">\r\n                    <div class=\"message_time\">\r\n                        <span>{{item.time}}</span>\r\n                    </div>\r\n                    <div class=\"message_is_me\" v-if=\"item.content != null\">\r\n                        <div class=\"col_is_me\">\r\n                            <el-avatar shape=\"square\" icon=el-icon-user-solid></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_is_me_content\">\r\n                            <span v-html=\"item.content\"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"message_not_me\" v-if=\"item.content === 'Testcontent'\">\r\n                        <div class=\"col_not_me\">\r\n                            <el-avatar src=\"http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg\"></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_not_me_content\">\r\n                            <span>Sorry! I cannot understand.</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"message_not_me\" v-if=\"item.content === 'Testcontent'\">\r\n                        <div class=\"col_not_me\">\r\n                            <el-avatar src=\"http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg\"></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_not_me_content\">\r\n                            <span @click=\"dialogVisible = true\">Can you answer some questions so we can recommend house for you.</span>\r\n                            <el-button id=\"ok\" size=\"medium\" type=\"primary\" @click=\"dialogVisible = true\">OK</el-button>\r\n                        </div>\r\n                    </div>\r\n\r\n                  <div class=\"message_not_me\" v-if=\"item.reply != null\">\r\n                        <div class=\"col_not_me\">\r\n                            <el-avatar src=\"http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg\"></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_not_me_content\">\r\n                            <span v-html=\"item.reply\"></span>\r\n                        </div>\r\n                        <!--<div class=\"message_not_me_content\" v-if=\"status ==='0'\">\r\n                            <router-link to=\"/recommend\">Click to see our recommendation for you.</router-link>\r\n                        </div>-->\r\n                  </div>\r\n                    <!--<div class=\"message_not_me\" v-if=\"status ==='0'&& item.content != null\">\r\n                        <div class=\"col_not_me\">\r\n                            <el-avatar src=\"http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg\"></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_not_me_content\">\r\n                            <router-link to=\"/recommend\">Click to see our recommendation for you.</router-link>\r\n                        </div>\r\n                    </div>-->\r\n                </div>\r\n              <div class=\"message_not_me\" v-if=\"status\">\r\n                        <div class=\"col_not_me\">\r\n                            <el-avatar src=\"http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg\"></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_not_me_content\">\r\n                            <router-link to=\"/recommend\">{{this.recommendLink}}</router-link>\r\n                        </div>\r\n              </div>\r\n              <div class=\"message_not_me\" v-if=\"questionType[0]==0||questionType[0]==2\">\r\n                        <div class=\"col_not_me\">\r\n                            <el-avatar src=\"http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg\"></el-avatar>\r\n                        </div>\r\n                        <div class=\"message_not_me_content\">\r\n                            <span @click=\"dialogVisible = true\" v-bind:style=\"styleObject\">Click here to get the questionnaire.</span>\r\n                        </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"message_send\">\r\n                <br/>\r\n                <el-input\r\n                        type=\"textarea\"\r\n                        :autosize=\"{ minRows: 5, maxRows: 8}\"\r\n                        placeholder=\"Please enter your message\"\r\n                        v-model=\"textarea\"\r\n                        maxlength=\"300\"\r\n                        show-word-limit\r\n                        clearable\r\n                >\r\n                </el-input>\r\n                <br/>\r\n                <el-button id=\"send\" size=\"medium\" type=\"primary\" @click=\"sendMessage()\">send</el-button>\r\n            </div>\r\n        </div>\r\n        <el-dialog\r\n                title=\" \"\r\n                :visible.sync=\"dialogVisible\"\r\n                width=\"30%\"\r\n                :before-close=\"handleClose\"\r\n                fullscreen = true\r\n                id=\"q\"\r\n\r\n        >\r\n            <Questions ref=\"questionnaire\" :message = \"questionType\"  ></Questions><!--v-on:=\"closeDialogue = 'handleClose'\"-->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                        <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n                        <!--<el-button type=\"primary\" @click=\"dialogVisible = false\">Submit</el-button>-->\r\n                        <el-button type=\"primary\" @click= \"submit()\">Submit</el-button>\r\n                    </span>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import Questions from '../components/Questions.vue'\r\n    export default {\r\n        name: 'Chat.vue',\r\n        components: {Questions: Questions},\r\n        status:false,\r\n        mounted () {\r\n            this.scrollToBottom()\r\n        },\r\n        data: function () {\r\n            return {\r\n              rstatus:this.$store.state.status,\r\n              styleObject: {\r\n                color: \"#660099\",\r\n                textDecoration:\"underline\",\r\n              },\r\n                recommendLink:\"Click here to get our recommendations for you.\",\r\n                isRecommend:false,\r\n                isReloadData:true,\r\n                textarea: '',\r\n                myMessages: [\r\n                  {time: \"testtime\"},\r\n                  {content: 'Testcontent'},\r\n                  {reply:\"Welcome to the Smart House Recommendation Assistant\"},\r\n                  {reply: \"Do you need us to recommend suitable housing information for you?\"}],\r\n                /*myMessages: [],*/\r\n                messageTime: [],\r\n                time: 'now',\r\n                randomNumber:0,\r\n                dialogVisible: false,\r\n                /*总对话数*/\r\n                processNumber:0,\r\n                /*正在进行的对话次数*/\r\n                currentProcess:0,\r\n              //问卷类型， 0为选填，1为直接推荐，2为必填\r\n                questionType:[1],\r\n\r\n            }\r\n        },\r\n\r\n        updated: function () {\r\n            this.scrollToBottom()\r\n        },\r\n        watch:{\r\n          rstatus(newVal, oldVal) {\r\n            alert(newVal)\r\n          }\r\n        },\r\n        methods: {\r\n         /* handleClose:function(data){\r\n              alert(data)\r\n          },*/\r\n          reload () {\r\n            this.isReloadData = false\r\n            this.$nextTick(() => {\r\n              this.isReloadData = true\r\n            })\r\n          },\r\n            // 滚动条自动保持在底部\r\n            scrollToBottom: function () {\r\n                this.$nextTick(() => {\r\n                    var container = this.$el.querySelector('#message_show')\r\n                    container.scrollTop = container.scrollHeight\r\n                })\r\n            },\r\n          //处理文本换行\r\n            preText (pretext) {\r\n              return pretext.replace(/\\r\\n/g, '<br/>').replace(/\\n/g, '<br/>')\r\n            },\r\n            sendMessage () {\r\n                let yy = new Date().getFullYear()\r\n                let mm = new Date().getMonth() + 1\r\n                let dd = new Date().getDate()\r\n                let hh = new Date().getHours()\r\n                let mf = new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes()\r\n                let ss = new Date().getSeconds() < 10 ? '0' + new Date().getSeconds() : new Date().getSeconds()\r\n                var time = yy + '-' + mm + '-' + dd + ' ' + hh + ':' + mf + ':' + ss\r\n                var message =  this.preText(this.textarea)\r\n                if(message.match(/^[ ]+$/)||message===\"\"){\r\n                    /*alert(\"invalid null message\")*/\r\n                  this.$notify.error({\r\n                    message: 'Invalid null message,please try again',\r\n                    duration: 2000\r\n                  });\r\n                }\r\n                else{\r\n                    this.myMessages.push({ time: time })\r\n                    this.myMessages.push({ content: message })\r\n                    /*this.myMessages.push({ reply: message })*/\r\n                    this.process(message)\r\n                    /*this.status = \"1\"*/\r\n                    /*this.$store.commit(\"newStatus\",this.status)*/\r\n                }\r\n                this.textarea = ''\r\n                this.randomNumber = this.getRandomFromBackend()\r\n\r\n            },\r\n            process(message){\r\n                const path = 'http://localhost:5000/api/nlp'\r\n                let data = [message,this.processNumber,this.currentProcess]\r\n                axios.post(path, data)\r\n                    .then(response => {\r\n                      let re = response.data.reply\r\n                      /*alert(re[1])\r\n                      alert(re[2])*/\r\n                      this.processNumber = re[1]\r\n                      this.currentProcess = re[2]\r\n                      if (re[1]==16&&re[2]==0){//选填问卷\r\n                        this.questionType[0] = 0\r\n                        this.questionType = this.questionType.concat(re[3])\r\n                        this.currentProcess = 1\r\n                        this.processNumber = 17\r\n                        /*this.questionType.push(this.dialogVisible)*/\r\n\r\n                      }\r\n                      else if(re[1]==17&&re[2]==0){//直接推荐\r\n                          this.myMessages.push({ reply: \"Since you choose not to fill the questionnaire, we will directly find houses for you according to your answers above.\" })\r\n                          /*this.myMessages.push({ reply: \"The system is working, please wait for a while.\" })*/\r\n                          this.questionType[0] = 1\r\n                      /*  this.$refs.questionnaire.recommend(re[3])*/\r\n                        this.$store.commit(\"newRecommendation\",re[3])\r\n                        this.$store.commit(\"newStatus\",\"1\")\r\n                        this.status = true\r\n                        /*this.$nextTick(() => {\r\n                          this.status = true\r\n                        })*/\r\n                        this.textarea = \" \"\r\n                        this.textarea = \"\"\r\n                        this.recommendLink = \"Click here to get our recommendations for you.\"\r\n                        /*this.status = */\r\n                        /*this.reload()*/\r\n                        /*alert(this.$store.state.recommendation)*/\r\n                        /*this.$router.push(\"/recommend\");*/\r\n                      }\r\n                      else if(re[1]==15){//有回复，填必填问卷\r\n                        let rep = this.preText(re[0])\r\n                        this.myMessages.push({ reply: rep })\r\n                        this.questionType[0] = 2\r\n                        this.questionType = this.questionType.concat(re[3])\r\n                        this.currentProcess = 1\r\n                        this.processNumber = 17\r\n                      }\r\n                      else{\r\n                        this.status = false\r\n                        let rep = this.preText(re[0])\r\n                        this.myMessages.push({ reply: rep })\r\n                      }\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error)\r\n\r\n                    })\r\n\r\n            },\r\n            submit(){\r\n                /*let a = this.$refs.questionnaire.recommend()*/\r\n              let data = [this.$refs.questionnaire.form.classification,this.$refs.questionnaire.form.inputSize,this.$refs.questionnaire.form.flatness,this.$refs.questionnaire.form.utility,this.$refs.questionnaire.form.neighborhood,\r\n                            this.$refs.questionnaire.form.style,this.$refs.questionnaire.form.year,this.$refs.questionnaire.form.roof,this.$refs.questionnaire.form.vaneer,this.$refs.questionnaire.form.foundation,this.$refs.questionnaire.form.basement,\r\n                            this.$refs.questionnaire.form.heating,this.$refs.questionnaire.form.air,this.$refs.questionnaire.form.electrical,this.$refs.questionnaire.form.living,this.$refs.questionnaire.form.fullbath,this.$refs.questionnaire.form.halfbath,\r\n                            this.$refs.questionnaire.form.bedroom,this.$refs.questionnaire.form.kitchen,this.$refs.questionnaire.form.room,this.$refs.questionnaire.form.fire,this.$refs.questionnaire.form.garage,this.$refs.questionnaire.form.deck,\r\n                            this.$refs.questionnaire.form.pool,this.$refs.questionnaire.form.price]\r\n              /*let a = [this.$refs.questionnaire.form.price , this.$refs.questionnaire.form.pool]*/\r\n              let invalidcount = 0\r\n                for(let i = 0;i<data.length;i++){\r\n                  if (data[i]===undefined || data[i]===\"\"||data[i]=== -1){\r\n                    /*console.log(\"in\",data[i])*/\r\n                    data[i]= -1\r\n                    invalidcount++\r\n                  }\r\n                }\r\n                if (invalidcount>19&&invalidcount!=25){\r\n                    this.$confirm('Sorry, information provided is not enough! Lack of information may lead to inaccurate recommendations, do you confirm to continue recommendation ?', '', {\r\n                      confirmButtonText: 'confirm',\r\n                      cancelButtonText: 'no,I will provide more information',\r\n                      type: 'warning'\r\n                      }).then(() => {\r\n                        this.$refs.questionnaire.realrecommend(data)\r\n                        this.dialogVisible = false\r\n                        this.questionType[0] = 1\r\n                        this.myMessages.push({ reply: \"The system is working, please wait for a while.\" })\r\n                        /*this.status = true*/\r\n                        let that = this\r\n                        setTimeout(function() {\r\n                          that.textarea = \" \"\r\n                          that.textarea = \"\"\r\n                          that.status = true\r\n                          /*alert(\"1\")*/\r\n                        },8000);\r\n                      }).catch(() => {\r\n                        this.dialogVisible = true\r\n                    });\r\n                }\r\n                else if(invalidcount==25&&this.dialogVisible==true){\r\n                  this.$notify.error({\r\n                    message: 'You must provide at least one feature for us to recommendation, please try again!',\r\n                    duration: 5000\r\n                  });\r\n                }\r\n                else {\r\n                  /*alert(\"else\")*/\r\n                  this.$refs.questionnaire.realrecommend(data)\r\n                  this.dialogVisible = false\r\n                  this.questionType[0] = 1\r\n                  /*this.status = true*/\r\n                  this.myMessages.push({ reply: \"The system is working, please wait for a while.\" })\r\n                  let that = this\r\n                        setTimeout(function() {\r\n                          that.textarea = \" \"\r\n                          that.textarea = \"\"\r\n                          that.status = true\r\n                          /*alert(\"1\")*/\r\n                        },8000);\r\n                }\r\n                /*this.dialogVisible = false*/\r\n\r\n            },\r\n\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /*.el-button{\r\n        background-color: #66A4AC;\r\n\r\n    }*/\r\n    /*#all{\r\n        background: #C2DDE4;\r\n    }*/\r\n    #message_box{\r\n        border: 1px solid #d7dae2;\r\n        border-radius: 4px ;\r\n        background: #f4f5f7;\r\n        box-shadow: 0 1px 2px rgba(0, 0, 0, .12);\r\n        width: 80%;\r\n        height: 650px;\r\n        margin: 0 auto;\r\n        margin-top: 20px;\r\n    }\r\n    #message_show{\r\n        height: 430px;\r\n        border-bottom: 1px solid #000000;\r\n        overflow-y:auto;\r\n    }\r\n    .message_time{\r\n        text-align: center;\r\n        font-size: 15px;\r\n        color: gray;\r\n        padding: 10px 0px;\r\n    }\r\n    .message_is_me{\r\n        width: 100%;\r\n        float: right;\r\n        overflow: hidden;\r\n    }\r\n    .message_is_me_content{\r\n        float: right;\r\n        color: white;\r\n        margin: 10px;\r\n        padding: 10px;\r\n        border-radius: 8px 0px 8px 8px ;\r\n        background: #06565B;\r\n        max-width: 70%;\r\n        width: fit-content;\r\n        word-wrap: break-word;\r\n        word-break: break-all;\r\n        overflow: hidden;\r\n    }\r\n    .col_is_me{\r\n        width: 40px;\r\n        float: right;\r\n        padding: 0px 10px;\r\n    }\r\n    .message_not_me{\r\n        width: 100%;\r\n        float: left;\r\n        overflow: hidden;\r\n    }\r\n    .message_not_me_content{\r\n        float: left;\r\n        margin: 10px;\r\n        padding: 10px;\r\n        border-radius: 0px 8px 8px 8px ;\r\n        background: white;\r\n        width: fit-content;\r\n        max-width: 70%;\r\n        word-wrap: break-word;\r\n        word-break: break-all;\r\n        overflow: hidden;\r\n    }\r\n    .col_not_me{\r\n        width: 40px;\r\n        float: left;\r\n        padding: 0px 10px;\r\n    }\r\n    #message_send{\r\n        padding-left: 10px;\r\n        width: 97%;\r\n    }\r\n    #send{\r\n        float: right;\r\n        margin-top: 20px;\r\n    }\r\n\r\n</style>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- frontend/src/components/Chat.vue	(revision 0e99b9793020cc56aa9427e79e76353bbdc36f56)
+++ frontend/src/components/Chat.vue	(date 1620564129216)
@@ -16,7 +16,7 @@
                     </div>
                     <div class="message_not_me" v-if="item.content === 'Testcontent'">
                         <div class="col_not_me">
-                            <el-avatar src="http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg"></el-avatar>
+                            <el-avatar src="http://img.qqzhi.com/uploads/2018-12-02/032658178.jpg"></el-avatar>
                         </div>
                         <div class="message_not_me_content">
                             <span>Sorry! I cannot understand.</span>
@@ -24,7 +24,7 @@
                     </div>
                     <div class="message_not_me" v-if="item.content === 'Testcontent'">
                         <div class="col_not_me">
-                            <el-avatar src="http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg"></el-avatar>
+                            <el-avatar src="http://img.qqzhi.com/uploads/2018-12-02/032658178.jpg"></el-avatar>
                         </div>
                         <div class="message_not_me_content">
                             <span @click="dialogVisible = true">Can you answer some questions so we can recommend house for you.</span>
@@ -34,7 +34,7 @@
 
                   <div class="message_not_me" v-if="item.reply != null">
                         <div class="col_not_me">
-                            <el-avatar src="http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg"></el-avatar>
+                            <el-avatar src="http://img.qqzhi.com/uploads/2018-12-02/032658178.jpg"></el-avatar>
                         </div>
                         <div class="message_not_me_content">
                             <span v-html="item.reply"></span>
@@ -45,7 +45,7 @@
                   </div>
                     <!--<div class="message_not_me" v-if="status ==='0'&& item.content != null">
                         <div class="col_not_me">
-                            <el-avatar src="http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg"></el-avatar>
+                            <el-avatar src="http://img.qqzhi.com/uploads/2018-12-02/032658178.jpg"></el-avatar>
                         </div>
                         <div class="message_not_me_content">
                             <router-link to="/recommend">Click to see our recommendation for you.</router-link>
@@ -54,7 +54,7 @@
                 </div>
               <div class="message_not_me" v-if="status">
                         <div class="col_not_me">
-                            <el-avatar src="http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg"></el-avatar>
+                            <el-avatar src="http://img.qqzhi.com/uploads/2018-12-02/032658178.jpg"></el-avatar>
                         </div>
                         <div class="message_not_me_content">
                             <router-link to="/recommend">{{this.recommendLink}}</router-link>
@@ -62,7 +62,7 @@
               </div>
               <div class="message_not_me" v-if="questionType[0]==0||questionType[0]==2">
                         <div class="col_not_me">
-                            <el-avatar src="http://img.qqzhi.com/uploads/2019-02-25/230332138.jpg"></el-avatar>
+                            <el-avatar src="http://img.qqzhi.com/uploads/2018-12-02/032658178.jpg"></el-avatar>
                         </div>
                         <div class="message_not_me_content">
                             <span @click="dialogVisible = true" v-bind:style="styleObject">Click here to get the questionnaire.</span>
Index: frontend/src/components/HouseList.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"6\">\r\n        <el-input\r\n            size=\"small\"\r\n            placeholder= \"search for blocks\"\r\n            v-model=\"textarea\"\r\n            clearable\r\n            class=\"inputSearch\"></el-input>\r\n  \t    \r\n      </el-col>\r\n      <el-button @click=\"sortandsearch()\" class=\"buttonSearch\" style=\"height: 8%!important\" icon=\"el-icon-search\">Search</el-button>\r\n      <el-col :span=\"10\"></el-col>\r\n      <el-col :span=\"2\">\r\n        <p class=\"sortText\">Sort by:</p>\r\n      </el-col>\r\n      <el-col :span=\"3\">\r\n        <el-select v-model=\"values\" placeholder=\"please choose\" @change=\"sortandsearch()\" class=\"sortBy\">\r\n          <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      \r\n    </el-row>\r\n    <el-divider></el-divider>\r\n    <div v-if=\"this.houses.length==0&&this.loading==false\">\r\n      <p>No Result</p>\r\n    </div>\r\n    <el-row v-loading=\"loading\" gutter=\"20\" >\r\n      <el-col :span=\"6\" v-for=\"item in houses.slice((currentPage - 1) * pageSize, currentPage*pageSize)\" :key=\"item.id\">\r\n            <el-card :body-style=\"{ paddingLeft: '20px'}\" shadow =\"hover\" @click.native = \"openDetail(item.id)\" class=\"cards\">\r\n                <img :src=\"item.pic\" class=\"image\">\r\n                <div style=\"padding: 14px;\">\r\n<!--                   \r\n                    <h2>Price: $2000</h2>\r\n                    <span>1 bd, 1 ba, 288 sqft</span>\r\n                    <br>\r\n                    <span>neighborhood</span>\r\n                    <h2>{{item.id}}</h2> -->\r\n\r\n                    <h2>{{item.price}}</h2>\r\n                    <span>{{ item.room }}</span>\r\n                    <br>\r\n                    <span>{{ item.neighborhood }}</span>\r\n                    <br>\r\n                    <span>{{ item.type }}</span>\r\n                   \r\n                </div>\r\n            </el-card>\r\n            <el-dialog\r\n                :visible.sync=\"dialogVisible\"\r\n                width=\"80%\"\r\n                height=\"60%\"\r\n                :before-close=\"handleClose\">\r\n                <Detail :message = \"thisHouse\"></Detail>\r\n                <p>Here are similar houses</p>\r\n                <el-col :span=\"2\" v-for=\"item in similar \" :key=\"item.id\">\r\n                  <el-card :body-style=\"{ paddingLeft: '20px'}\" shadow =\"hover\" @click.native = \"openDetail(item.id)\" class=\"cards\">\r\n                    <span>{{item.id}}</span>\r\n                    <br>\r\n                     <h2>{{item.price}}</h2>\r\n                    <span>{{ item.room }}</span>\r\n                    <br>\r\n                    <span>{{ item.neighborhood }}</span>\r\n                    <br>\r\n                    <span>{{ item.type }}</span>\r\n                  </el-card>\r\n                </el-col>\r\n                <!--<el-button @click=\"similar()\">View 10 similar houses</el-button>-->\r\n            </el-dialog>\r\n        </el-col>\r\n    </el-row>\r\n    <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\"\r\n                :page-size=\"12\"\r\n                :page-sizes=\"[12, 24, 36, 48]\"\r\n                layout=\"total,sizes, prev, pager, next, jumper\"\r\n                :total=\"currentTotal\">\r\n    </el-pagination>\r\n\r\n\r\n</div>\r\n    \r\n</template>\r\n<script>\r\n    import axios from \"axios\";\r\n    import HouseDetail from \"@/components/HouseDetail\";\r\n    export default {\r\n      name: \"houseItem.vue\",\r\n      components: {Detail: HouseDetail},\r\n      data(){\r\n          return{\r\n            similar:[],\r\n            src:\"\",\r\n            textarea:\"\",\r\n            matchn:[],\r\n            currentTotal: 0,\r\n            currentPage: 1,\r\n            pageSize: 12,\r\n            /*houses:['All', 'work', 'play', 'makes', 'jack', 'dull', 'boy', ',', 'work', 'play'],*/\r\n            houses:[],\r\n            dialogVisible: false,\r\n            houseId:0,\r\n            details:[],\r\n            thisHouse:[],\r\n            values:\"\",\r\n            loading: true,\r\n            options: [{\r\n              value: 1,\r\n              label: 'price(High to low)'\r\n            }, {\r\n              value: 2,\r\n              label: 'size(High to low)'\r\n            }, {\r\n              value: 3,\r\n              label: 'bedroom count(High to low)'\r\n            }, {\r\n              value: 4,\r\n              label: 'bathroom count(High to low)'\r\n            },{\r\n              value: 5,\r\n              label: 'price(Low to High)'\r\n            }, {\r\n              value: 6,\r\n              label: 'size(Low to High)'\r\n            }, {\r\n              value: 7,\r\n              label: 'bedroom count(Low to High)'\r\n            }, {\r\n              value: 8,\r\n              label: 'bathroom count(Low to High)'\r\n            }, {\r\n              value: 9,\r\n              label: 'neighbourhood'\r\n            }],\r\n          }\r\n      },\r\n      created:function(){\r\n        this.values = this.options[8].value\r\n        this.getList()\r\n      },\r\n      /*computed:{\r\n        getsrc(id){\r\n              /!*return \"./components/pictures/\"+id+\".JPG\"*!/\r\n              return \"./pictures/\" + id + \".jpg\"\r\n          },\r\n      },*/\r\n      methods:{\r\n        getSimilar(id){\r\n          const path = 'http://localhost:5000/api/recommendById'\r\n          /*let data = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, -1, -1, -1]*/\r\n          let data = [id]\r\n                axios.post(path, data)\r\n                    .then(response => {\r\n                       /* alert(\"successful submission\")*/\r\n                        let all = response.data.result\r\n                        this.similar = this.dealdata(all)\r\n                        this.similar = this.similar.slice(1)\r\n                        /*alert(\"successful submission\")*/\r\n                    })\r\n                    .catch((error) => {\r\n                        // eslint-disable-next-line\r\n                        console.log(error)\r\n\r\n                    })\r\n        },\r\n          /*getsrc(id){\r\n              /!*return \"./components/pictures/\"+id+\".JPG\"*!/\r\n              return \"./pictures/\" + \"1.jpg\"\r\n          },*/\r\n        /*similar(){\r\n          this.$store.commit(\"newStatus\",\"2\")\r\n          /!*alert(this.$store.state.status)*!/\r\n          this.$router.push({ path:'/recommend'  })\r\n          this.dialogVisible = false\r\n        },*/\r\n        sortandsearch(){\r\n          //先执行排序\r\n          /*this.houses = []\r\n          this.getList()\r\n          this.houses = [\"nl\",\"mkl\"]*/\r\n          //模糊搜索\r\n          let nList = [\"Bloomington Heights\",\"Bluestem\",\"Briardale\",\"Brookside\",\"Clear Creek\",\r\n            \"College Creek\",\"Crawford\",\"Edwards\",\"Gilbert\",\"Iowa DOT and Rail Road\",\"Meadow Village\",\r\n            \"Mitchell\",\"North Ames\",\"Northridge\",\"Northpark Villa\",\"Northridge Heights\",\"Northwest Ames\",\r\n            \"Old Town\",\"South & West of Iowa State University\",\"Sawyer\",\"Sawyer West\",\"Somerset\",\r\n            \"Stone Brook\",\"Timberland\",\"Veenker\"]\r\n          let n =[]\r\n          for (var i = 0; i < nList.length; i++) {\r\n            if (nList[i].toLowerCase().indexOf(this.textarea.toLowerCase()) >= 0) {\r\n              let n1 = nList[i]\r\n              if (n1 == \"Bloomington Heights\"){\r\n                n1 = \"Blmngtn\"\r\n              }\r\n              else if (n1 == \"Bluestem\"){\r\n                n1 = \"Blueste\"\r\n              }\r\n              else if (n1 == \"Briardale\"){\r\n                n1 = \"BrDale\"\r\n              }\r\n              else if (n1 == \"Brookside\"){\r\n                n1 = \"BrkSide\"\r\n              }\r\n              else if (n1 == \"Clear Creek\"){\r\n                n1 = \"ClearCr\"\r\n              }\r\n              else if (n1 == \"College Creek\"){\r\n                n1 = \"CollgCr\"\r\n              }\r\n              else if (n1 == \"Crawford\"){\r\n                n1 = \"Crawfor\"\r\n              }\r\n              else if (n1 == \"Edwards\"){\r\n                n1 = \"Edwards\"\r\n              }\r\n              else if (n1 == \"Gilbert\"){\r\n                n1 = \"Gilbert\"\r\n              }\r\n              else if (n1 == \"Iowa DOT and Rail Road\"){\r\n                n1 = \"IDOTRR\"\r\n              }\r\n              else if (n1 == \"Meadow Village\"){\r\n                n1 = \"MeadowV\"\r\n              }\r\n              else if (n1 == \"Mitchel\"){\r\n                n1 = \"Mitchell\"\r\n              }\r\n              else if (n1 == \"North Ames\"){\r\n                n1 = \"NAmes\"\r\n              }\r\n              else if (n1 == \"Northridge\"){\r\n                n1 = \"NoRidge\"\r\n              }\r\n              else if (n1 == \"Northpark Villa\"){\r\n                n1 = \"NPkVill\"\r\n              }\r\n              else if (n1 == \"Northridge Heights\"){\r\n                n1 = \"NridgHt\"\r\n              }\r\n              else if (n1 == \"Northwest Ames\"){\r\n                n1 = \"NWAmes\"\r\n              }\r\n              else if (n1 == \"Old Town\"){\r\n                n1 = \"OldTown\"\r\n              }\r\n              else if (n1 == \"South & West of Iowa State University\"){\r\n                n1 = \"SWISU\"\r\n              }\r\n              else if (n1 == \"Sawyer\"){\r\n                n1 = \"Sawyer\"\r\n              }\r\n              else if (n1 == \"Sawyer West\"){\r\n                n1 = \"SawyerW\"\r\n              }\r\n              else if (n1 == \"Somerset\"){\r\n                n1 = \"Somerst\"\r\n              }\r\n              else if (n1 == \"Stone Brook\"){\r\n                n1 = \"StoneBr\"\r\n              }\r\n              else if (n1 == \"Timberland\"){\r\n                n1 = \"Timber\"\r\n              }\r\n              else if (n1 == \"Veenker\"){\r\n                n1 = \"Veenker\"\r\n              }\r\n              n.push(n1);\r\n            }\r\n          }\r\n          this.matchn = n\r\n         /* alert(this.matchn)*/\r\n          this.houses = []\r\n          if(this.matchn.length!=0){\r\n            this.getList()\r\n          }\r\n\r\n          /*let h = []\r\n          alert(this.houses[0].neighborhood)\r\n          for (var i = 0;i<this.houses.length;i++){\r\n            if(n.indexOf(this.houses[i].neighborhood) > -1){\r\n              h.push(this.houses[i])\r\n            }\r\n          }\r\n          this.houses = h*/\r\n\r\n        },\r\n        openDetail(id){\r\n          this.houseId = id\r\n          let i = 0\r\n          while(i<this.details.length){\r\n            if (id == this.details[i][0]){\r\n              this.thisHouse = this.details[i]\r\n            }\r\n            i++\r\n          }\r\n          // this.thisHouse = this.thisHouse.concat(this.houses[0])\r\n          for(let j=0;j<this.houses.length;j++){\r\n            if (id == this.houses[j].id){\r\n              this.thisHouse = this.thisHouse.concat(this.houses[j])\r\n            }\r\n          }\r\n          this.getSimilar(id)\r\n          this.dialogVisible = true\r\n\r\n        },\r\n        dealdata(all){\r\n          let houses = []\r\n          let i = 0;\r\n          while (i< all.length){\r\n                        let ID = all[i][0]\r\n                        let p = all[i][80]\r\n                        let a = all[i][4]/*mianji*/\r\n                        let n = all[i][12]\r\n                        let t = all[i][2]\r\n                        let bd = all[i][51]/*bedroom*/\r\n                        let ba = all[i][50]*0.5+all[i][49]/*bathroom*/\r\n                        let r = a.toString() + \" sqft\"\r\n                        let src = require(\"../assets/pictures/\" + ID + \".jpg\")\r\n                        if (ba == 1||ba == 0){\r\n                            r = ba.toString() + \" ba \" + r\r\n                        }\r\n                        else{\r\n                          r = ba.toString() + \" ba \" + r\r\n                        }\r\n                        if (bd == 1||bd==0){\r\n                            r = bd.toString() + \" bd \" + r\r\n                        }\r\n                        else{\r\n                          r = bd.toString() + \" bds \" + r\r\n                        }\r\n\r\n                        if (n == \"Blmngtn\"){\r\n                            n = \"Bloomington Heights\"\r\n                        }\r\n                        else if (n == \"Blueste\"){\r\n                            n = \"Bluestem\"\r\n                        }\r\n                        else if (n == \"BrDale\"){\r\n                            n = \"Briardale\"\r\n                        }\r\n                        else if (n == \"BrkSide\"){\r\n                            n = \"Brookside\"\r\n                        }\r\n                        else if (n == \"ClearCr\"){\r\n                            n = \"Clear Creek\"\r\n                        }\r\n                        else if (n == \"CollgCr\"){\r\n                            n = \"College Creek\"\r\n                        }\r\n                        else if (n == \"Crawfor\"){\r\n                            n = \"Crawford\"\r\n                        }\r\n                        else if (n == \"Edwards\"){\r\n                            n = \"Edwards\"\r\n                        }\r\n                        else if (n == \"Gilbert\"){\r\n                            n = \"Gilbert\"\r\n                        }\r\n                        else if (n == \"IDOTRR\"){\r\n                            n = \"Iowa DOT and Rail Road\"\r\n                        }\r\n                        else if (n == \"MeadowV\"){\r\n                            n = \"Meadow Village\"\r\n                        }\r\n                        else if (n == \"Mitchel\"){\r\n                            n = \"Mitchell\"\r\n                        }\r\n                        else if (n == \"NAmes\"){\r\n                            n = \"North Ames\"\r\n                        }\r\n                        else if (n == \"NoRidge\"){\r\n                            n = \"Northridge\"\r\n                        }\r\n                        else if (n == \"NPkVill\"){\r\n                            n = \"Northpark Villa\"\r\n                        }\r\n                        else if (n == \"NridgHt\"){\r\n                            n = \"Northridge Heights\"\r\n                        }\r\n                        else if (n == \"NWAmes\"){\r\n                            n = \"Northwest Ames\"\r\n                        }\r\n                        else if (n == \"OldTown\"){\r\n                            n = \"Old Town\"\r\n                        }\r\n                        else if (n == \"SWISU\"){\r\n                            n = \"South & West of Iowa State University\"\r\n                        }\r\n                        else if (n == \"Sawyer\"){\r\n                            n = \"Sawyer\"\r\n                        }\r\n                        else if (n == \"SawyerW\"){\r\n                            n = \"Sawyer West\"\r\n                        }\r\n                        else if (n == \"Somerst\"){\r\n                            n = \"Somerset\"\r\n                        }\r\n                        else if (n == \"StoneBr\"){\r\n                            n = \"Stone Brook\"\r\n                        }\r\n                        else if (n == \"Timber\"){\r\n                            n = \"Timberland\"\r\n                        }\r\n                        else if (n == \"Veenker\"){\r\n                            n = \"Veenker\"\r\n                        }\r\n\r\n                        if (t == \"A\"){\r\n                            t = \"Agriculture\"\r\n                        }\r\n                        else if (t == \"C\"){\r\n                            t = \"Commercial\"\r\n                        }\r\n                        else if (t == \"FV\"){\r\n                            t = \"Floating Village Residential\"\r\n                        }\r\n                        else if (t == \"I\"){\r\n                            t = \"Industrial\"\r\n                        }\r\n                        else if (t == \"RH\"){\r\n                            t = \"Residential High Density\"\r\n                        }\r\n                        else if (t == \"RL\"){\r\n                            t = \"Residential Low Density\"\r\n                        }\r\n                        else if (t == \"RP\"){\r\n                            t = \"Residential Low Density Park\"\r\n                        }\r\n                        else if (t == \"RM\") {\r\n                            t = \"Residential Medium Density\"\r\n                        }\r\n                        p = \"$\"+p\r\n                        houses.push({id:ID,price:p,room:r,neighborhood:n,type:t,pic:src})\r\n                        i++\r\n                    }\r\n          return houses\r\n        },\r\n        getList(){\r\n            const path = 'http://localhost:5000/api/allHouses'\r\n            let data = [this.values,this.matchn]\r\n            axios.post(path,data)\r\n                .then(response => {\r\n                   /* alert(\"s\")*/\r\n                    let all = response.data.house;\r\n                    let list = []\r\n                    this.details = all\r\n                    this.currentTotal = all.length\r\n                    this.houses = this.dealdata(all)\r\n                    this.loading = false\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n        },\r\n        handleSizeChange(val) {\r\n            this.pageSize = val\r\n            console.log(`每页 ${val} 条`);\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val\r\n            console.log(`当前页: ${val}`);\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.image {\r\n    width: 100%;\r\n    display: block;\r\n  }\r\n\r\n.el-row {\r\n    margin-bottom: 20px;\r\n    display: flex;\r\n    flex-wrap: wrap\r\n  }\r\n\r\n.el-card {\r\n    min-width: 100%;\r\n    height: 100%;\r\n  } \r\n\r\n.buttonSearch{\r\n  margin-left: 0.5%;\r\n  background-color: rgb(29, 142, 180);\r\n  color: white;\r\n}\r\n\r\n.inputSearch{\r\n  margin-top: 1%;\r\n}\r\n\r\n.sortText{\r\n  margin-top: 9%;\r\n  margin-bottom: -2%;\r\n  margin-left: 40%;\r\n}\r\n\r\n.sortBy{\r\n  margin-bottom: -3%;\r\n  margin-left: 5%;\r\n}\r\n\r\n/* .cards{\r\n  border-radius: 10px;\r\n} */\r\n\r\n\r\n</style>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- frontend/src/components/HouseList.vue	(revision 0e99b9793020cc56aa9427e79e76353bbdc36f56)
+++ frontend/src/components/HouseList.vue	(date 1620563639824)
@@ -509,6 +509,7 @@
   margin-left: 5%;
 }
 
+
 /* .cards{
   border-radius: 10px;
 } */
Index: .idea/inspectionProfiles/Project_Default.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"InspectionProjectProfileManager\">\r\n  <profile version=\"1.0\">\r\n    <option name=\"myName\" value=\"Project Default\" />\r\n    <inspection_tool class=\"PyUnresolvedReferencesInspection\" enabled=\"true\" level=\"WARNING\" enabled_by_default=\"true\">\r\n      <option name=\"ignoredIdentifiers\">\r\n        <list>\r\n          <option value=\"Include.des.time\" />\r\n        </list>\r\n      </option>\r\n    </inspection_tool>\r\n  </profile>\r\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/inspectionProfiles/Project_Default.xml	(revision 0e99b9793020cc56aa9427e79e76353bbdc36f56)
+++ .idea/inspectionProfiles/Project_Default.xml	(date 1620563640226)
@@ -1,6 +1,22 @@
 <component name="InspectionProjectProfileManager">
   <profile version="1.0">
     <option name="myName" value="Project Default" />
+    <inspection_tool class="HtmlUnknownTag" enabled="true" level="WARNING" enabled_by_default="true">
+      <option name="myValues">
+        <value>
+          <list size="7">
+            <item index="0" class="java.lang.String" itemvalue="nobr" />
+            <item index="1" class="java.lang.String" itemvalue="noembed" />
+            <item index="2" class="java.lang.String" itemvalue="comment" />
+            <item index="3" class="java.lang.String" itemvalue="noscript" />
+            <item index="4" class="java.lang.String" itemvalue="embed" />
+            <item index="5" class="java.lang.String" itemvalue="script" />
+            <item index="6" class="java.lang.String" itemvalue="last-child" />
+          </list>
+        </value>
+      </option>
+      <option name="myCustomValuesEnabled" value="true" />
+    </inspection_tool>
     <inspection_tool class="PyUnresolvedReferencesInspection" enabled="true" level="WARNING" enabled_by_default="true">
       <option name="ignoredIdentifiers">
         <list>
